<template>
    <div class="md:flex-row items-center md:justify-between flex flex-col justify-center mt-3">
      <nav class="text-white flex">
        <div class="flex items-center">
        <svg class="h-8 w-8 mr-2" viewBox="0 0 64 64" fill="none" xmlns="http://www.w3.org/2000/svg">
          <g clip-path="url(#clip0_96:12)">
          <path d="M12.1066 35.8273C11.942 35.7065 11.7444 35.6389 11.5403 35.6336C11.3361 35.6284 11.1353 35.6858 10.9647 35.7981C10.7942 35.9104 10.6621 36.0722 10.5862 36.2618C10.5104 36.4514 10.4944 36.6596 10.5404 36.8586C12.7591 46.6598 21.5379 53.9998 32.0004 53.9998C34.2222 54.0005 36.4312 53.6633 38.5516 52.9998C38.7473 52.9395 38.9197 52.8205 39.0456 52.6591C39.1715 52.4976 39.2448 52.3013 39.2556 52.0968C39.2664 51.8923 39.2141 51.6894 39.1059 51.5156C38.9976 51.3418 38.8386 51.2054 38.6504 51.1248C33.965 49.0597 29.3965 46.7392 24.9654 44.1736C20.5307 41.6271 16.2381 38.8409 12.1066 35.8273V35.8273Z" fill="white"/>
          <path d="M61.5891 42.4388C61.0654 41.7413 60.4504 41.0088 59.7516 40.2475C59.5233 39.996 59.234 39.8075 58.9117 39.7002C58.5894 39.5929 58.2449 39.5703 57.9114 39.6348C57.5778 39.6992 57.2665 39.8484 57.0073 40.068C56.7481 40.2876 56.5499 40.5703 56.4316 40.8888C56.4316 40.9088 56.4179 40.9275 56.4104 40.9475C56.2858 41.2861 56.2566 41.6524 56.326 42.0064C56.3955 42.3604 56.5609 42.6886 56.8041 42.955C59.6466 46.08 60.1066 47.7688 59.9891 48.125C59.7391 48.4038 57.8579 48.9863 52.7204 47.6838C51.9845 47.4971 51.1796 47.2696 50.3054 47.0013C49.7421 46.8279 49.1675 46.6408 48.5816 46.44C49.5019 45.3845 50.3197 44.244 51.0241 43.0338C51.0454 42.9975 51.0679 42.9613 51.0891 42.9238C52.9974 39.5995 54.0007 35.833 53.9991 32C53.9996 31.2067 53.9579 30.4139 53.8741 29.625C52.6779 18.6038 43.3241 10 31.9991 10C27.1939 9.9973 22.5209 11.5736 18.6991 14.4863C16.3827 16.2493 14.4361 18.4512 12.9704 20.9663C12.9504 21.0025 12.9279 21.0388 12.9066 21.075C12.21 22.2886 11.6311 23.5661 11.1779 24.89C10.712 24.4842 10.2625 24.0813 9.82913 23.6813C9.15538 23.0563 8.55788 22.4775 8.02663 21.9313C4.33038 18.1488 3.89038 16.23 4.00663 15.875C4.25663 15.5963 5.94913 15.1413 10.0841 16.0388C10.4377 16.1165 10.8057 16.0957 11.1483 15.9787C11.4908 15.8616 11.7946 15.6528 12.0266 15.375L12.0716 15.32C12.2873 15.0608 12.4327 14.7506 12.494 14.419C12.5553 14.0875 12.5303 13.7457 12.4215 13.4266C12.3127 13.1075 12.1237 12.8216 11.8727 12.5966C11.6216 12.3715 11.317 12.2147 10.9879 12.1413C10.0064 11.9189 9.01433 11.7466 8.01538 11.625C4.17538 11.1838 1.66163 11.94 0.542883 13.875C0.137883 14.5725 -0.250867 15.7613 0.202883 17.45C0.874133 19.9575 3.26663 23 6.65288 26.1875C7.73163 27.2038 8.91038 28.2338 10.1679 29.2675C11.0829 30.0175 12.0429 30.775 13.0304 31.5275C13.6895 32.0275 14.3625 32.5275 15.0491 33.0275C15.7358 33.5275 16.4316 34.0183 17.1366 34.5C20.3129 36.7013 23.6691 38.815 26.9604 40.7113C28.1554 41.3996 29.3487 42.0663 30.5404 42.7113C31.732 43.3563 32.9141 43.9733 34.0866 44.5625C36.8241 45.9375 39.5054 47.1775 42.0691 48.2413C43.1683 48.6979 44.2437 49.1213 45.2954 49.5113C46.7816 50.0638 48.2166 50.55 49.5841 50.96L49.7216 51.0013C52.9379 51.9588 55.6491 52.4625 57.7816 52.5013H57.9991C60.7041 52.5013 62.5366 51.7038 63.4466 50.1263C64.5829 48.1738 63.9566 45.5863 61.5891 42.4388V42.4388Z" fill="white"/>
          </g>
          <defs>
          <clipPath id="clip0_96:12">
          <rect width="64" height="64" fill="white"/>
          </clipPath>
          </defs>
        </svg>          
        <span class="font-bold text-xl">StudySpace</span>
        </div>
      </nav>

      <div class="flex space-x-3 mt-3 md:m-0">
        <div @click="toggleMusic" v-html="icon" class="bg-[#2B2D31] hover:bg-[#3C3E44] p-2 rounded-md cursor-pointer"></div>
        <NuxtLink class="bg-[#2B2D31] hover:bg-[#3C3E44] p-2 rounded-md" to="/app/todo"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" style="fill: rgba(255, 255, 255, 1);transform: ;msFilter:;"><path d="M19 4h-3V2h-2v2h-4V2H8v2H5c-1.103 0-2 .897-2 2v14c0 1.103.897 2 2 2h14c1.103 0 2-.897 2-2V6c0-1.103-.897-2-2-2zm-7 10H7v-2h5v2zm5-4H7V8h10v2z"></path></svg></NuxtLink>
        <NuxtLink class="bg-[#2B2D31] hover:bg-[#3C3E44] p-2 rounded-md" to="/app/pomodoro"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" style="fill: rgba(255, 255, 255, 1);transform: ;msFilter:;"><path d="M12.25 2c-5.514 0-10 4.486-10 10s4.486 10 10 10 10-4.486 10-10-4.486-10-10-10zM18 13h-6.75V6h2v5H18v2z"></path></svg></NuxtLink>
      </div>

      <div class="relative hidden" style="padding-top: 56.25%"><iframe id="youtube-video" class="rounded-md absolute inset-0 w-full h-full" src="https://www.youtube.com/embed/5qap5aO4i9A?autoplay=1&enablejsapi=1&muted=1" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture;" allowfullscreen></iframe></div>
    </div>
</template>

<script>
export default {
  data() {
    return {
      icon: '<svg v-html="icon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" style="fill: rgba(255, 255, 255, 1);transform: ;msFilter:;"><path d="M6 18.573c2.206 0 4-1.794 4-4V4.428L19 7.7v7.43a3.953 3.953 0 0 0-2-.557c-2.206 0-4 1.794-4 4s1.794 4 4 4 4-1.794 4-4V7a.998.998 0 0 0-.658-.939l-11-4A.999.999 0 0 0 8 3v8.13a3.953 3.953 0 0 0-2-.557c-2.206 0-4 1.794-4 4s1.794 4 4 4z"></path></svg>',
      isToggled: false,
    };
  },

  methods: {
    toggleMusic() {
      var player = document.getElementById("youtube-video");

      if (this.isToggled === false) {
        player.contentWindow.postMessage(
          '{"event":"command","func":"pauseVideo","args":""}',
          "*"
        );
        this.icon =
          '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" style="fill: rgba(255, 255, 255, 1);transform: ;msFilter:;"><path d="m7.727 6.313-4.02-4.02-1.414 1.414 18 18 1.414-1.414-2.02-2.02A9.578 9.578 0 0 0 21.999 12c0-4.091-2.472-7.453-5.999-9v2c2.387 1.386 3.999 4.047 3.999 7a8.13 8.13 0 0 1-1.671 4.914l-1.286-1.286C17.644 14.536 18 13.19 18 12c0-1.771-.775-3.9-2-5v7.586l-2-2V2.132L7.727 6.313zM4 17h2.697L14 21.868v-3.747L3.102 7.223A1.995 1.995 0 0 0 2 9v6c0 1.103.897 2 2 2z"></path></svg>';
      } else {
        player.contentWindow.postMessage(
          '{"event":"command","func":"playVideo","args":""}',
          "*"
        );
        this.icon =
          '<svg v-html="icon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" style="fill: rgba(255, 255, 255, 1);transform: ;msFilter:;"><path d="M6 18.573c2.206 0 4-1.794 4-4V4.428L19 7.7v7.43a3.953 3.953 0 0 0-2-.557c-2.206 0-4 1.794-4 4s1.794 4 4 4 4-1.794 4-4V7a.998.998 0 0 0-.658-.939l-11-4A.999.999 0 0 0 8 3v8.13a3.953 3.953 0 0 0-2-.557c-2.206 0-4 1.794-4 4s1.794 4 4 4z"></path></svg>';
      }

      this.isToggled = !this.isToggled;
    },
  },
};
</script>

<style>
a.nuxt-link-exact-active {
    @apply bg-[#3C3E44];
  }
</style>